import{r as o,A as b,q as g,j as l,d as a,c as w,s as h,t as y}from"./index-45e6de8f.js";import{c as S,a as d,y as v}from"./yup-resolver-09c6c984.js";import{A as x}from"./Button-e4e7f3fb.js";import{P}from"./Page-cc54be43.js";import{S as A}from"./Separator-34b6de59.js";import{u as I,a as q}from"./useUsers-fc69869c.js";import{T as E}from"./TextInput-26aec38f.js";import{P as U}from"./PasswordInput-55f8b2ff.js";import"./use-uncontrolled-e9ee48d3.js";const k=S().shape({email:d().email("Invalid email").required("Required").label("Email"),password:d().required("Required").label("Password")}),C=w(()=>({label:{color:"#fffcf1"},wrapper:{border:"1px solid #3c3c3c",backgroundColor:"#2e2e2e80","&:focus":{borderWidth:"1px",borderStyle:"solid",borderImage:"linear-gradient(0deg, #b17900 0%, #fdbb2d 60%) 1"},"&:focus-within":{borderWidth:"1px",borderStyle:"solid",borderImage:"linear-gradient(0deg, #b17900 0%, #fdbb2d 60%) 1"}},visibilityToggle:{"&:hover":{background:"transparent"}}}));function $(){const[m,e]=o.useState(!1),{classes:i}=C(),{getUser:c}=I(),{setCurrentUser:u}=o.useContext(b),n=g(),s=q({initialValues:{email:"",password:""},validate:v(k)});o.useEffect(()=>{window.scrollTo(0,0)},[]);const p=({email:t,password:f})=>{e(!0),h(y,t,f).then(async r=>{u(r.user),(await c(r.user.uid)).tempPassword?(e(!1),n("/newpassword")):(e(!1),n("/dashboard"))}).catch(r=>{e(!1)})};return l(P,{children:[a(A,{title:"Admin Login"}),l("form",{onSubmit:s.onSubmit(t=>p(t)),className:"contact-form",children:[a(E,{classNames:i,variant:"unstyled",name:"email",label:"Email",withAsterisk:!0,...s.getInputProps("email")}),a(U,{classNames:i,variant:"unstyled",name:"password",label:"Password",withAsterisk:!0,...s.getInputProps("password")}),a(x,{name:"Login",type:"submit",loading:m})]})]})}export{$ as default};
